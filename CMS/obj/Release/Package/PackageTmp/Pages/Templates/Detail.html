
<div ng-controller="DetailViewController" ag-title="Template" ag-selected-url="#/templates/list" ag-api-route="/cms/templates/">

    <ag-title-bar></ag-title-bar>

    <ag-section ag-controller="detail">

        <div class="detail-view">

            <div class="box">

                <div class="header">
                    <div>
                        <strong>{{detail.entity.Title}}</strong><br />
                        <small>{{detail.entity.Type}}</small>
                    </div>
                </div>
                <script>
                    function resizeIframe(obj) {
                        obj.style.height = obj.contentWindow.document.body.scrollHeight + 50 + 'px';
                    }
                </script>

                <iframe ng-if="detail.entity.TypeId==1 && detail.entity.Id!=1" flex srcdoc="{{detail.entity.EmailHTML | trustAsHtml}}" style="overflow: auto; width: 100%" frameborder="0" scrolling="no" onload="resizeIframe(this)"></iframe>
                <iframe ng-if="detail.entity.TypeId==2 || detail.entity.Id==1" flex srcdoc="{{detail.entity.HTML | trustAsHtml}}" style="overflow: auto; width: 100%" frameborder="0" scrolling="no" onload="resizeIframe(this)"></iframe>

            </div>

        </div>

</ag-section>

    <ag-status-bar></ag-status-bar>

</div>